(this["webpackJsonpshopify-challenge"]=this["webpackJsonpshopify-challenge"]||[]).push([[0],{170:function(e){e.exports=JSON.parse('{"OMDbApiKey":"2d8825dc"}')},325:function(e,n,t){},326:function(e,n,t){"use strict";t.r(n);var a=t(7),r=t(0),i=t(16),c=t.n(i),s=t(66),o=t(99),l=t(175),u=t(143),j={result:[],nomination:[],searchValue:null},p=Object(u.a)((function(e,n){var t=n.type,a=n.payload;switch(t){case"SET_SEARCH_VALUE":return e.searchValue=a,e;case"ADD_RESULT":return e.result.push(a),e;case"ADD_NOMINATION":return e.nomination.push(a),e;case"REMOVE_NOMINATION":return e.nomination=e.nomination.filter((function(e){return e.Title!==a.Title})),e;case"SET_MOVIES_STATE":return e=a;case"RESET_STATE":return e=j;default:return e}}),Object(l.a)({},j)),O=Object(s.b)({movies:p}),h=t(171),d=t(29),m=t(176),b=t(75),f=t(50),T=t(329),x=t(330),y=t(333),v=t(332),E=function(e){var n=e.setSearchValue,t=e.search,r=e.searchValue;return Object(a.jsx)(T.a,{title:"The Shoppies",children:Object(a.jsx)(x.a.Item,{label:"Movie title",children:Object(a.jsx)(y.a,{value:r,onChange:function(e){return n(e.target.value)},onPressEnter:function(){return t()},suffix:Object(a.jsx)(v.a,{}),placeholder:"search a movie title"})})})};E.displayName="MovieSearchFormCard";var N=E,S=t(331),g=t(172),_=function(e){var n=e.nomination,t=e.result,r=e.addNomination;if(0===t.length)return null;var i=function(e){return 0!==n.length&&(5===n.length||0!==n.filter((function(n){return n.Title===e.Title})).length)};return Object(a.jsxs)(T.a,{children:[Object(a.jsx)(S.a.Title,{level:4,children:"Results"}),t.map((function(e){return Object(a.jsxs)(b.a,{style:{marginTop:5},children:[Object(a.jsx)(S.a.Text,{style:{marginTop:5},children:"".concat(e.Title," (").concat(e.Year,")")}),Object(a.jsx)(g.a,{disabled:i(e),onClick:function(){return r(e)},style:{marginLeft:10},children:"Nominate"})]})}))]})};_.displayName="ResultCard";var A=_,w=function(e){var n=e.removeNomination,t=e.nomination;return 0===t.length?null:Object(a.jsxs)(T.a,{children:[Object(a.jsx)(S.a.Title,{level:4,children:"Nominations"}),t.map((function(e){return Object(a.jsxs)(b.a,{style:{marginTop:5},children:[Object(a.jsx)(S.a.Text,{style:{marginTop:5},children:"".concat(e.Title," (").concat(e.Year,")")}),Object(a.jsx)(g.a,{onClick:function(){return n(e)},style:{marginLeft:10},children:"Remove"})]})}))]})};w.displayName="NominationCard";var I=w,D=function(e){var n=e.nomination;return Object(a.jsxs)(T.a,{children:[Object(a.jsx)(S.a.Title,{level:4,children:"Your movie nominations :)"}),n.map((function(e){return Object(a.jsx)(b.a,{style:{marginTop:5},children:Object(a.jsx)(S.a.Text,{style:{marginTop:5},children:"- ".concat(e.Title," (").concat(e.Year,")")})})}))]})};D.displayName="NominationBanner";var R=D,V=t(111),M=t.n(V),L=t(168),C=t(169),k=t.n(C),U=t(170);function Y(){return(Y=Object(L.a)(M.a.mark((function e(n){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",k()({method:"GET",url:"https://www.omdbapi.com/",params:{t:n,apikey:U.OMDbApiKey}}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var J=function(e){var n=e.dispatch,t=e.movies;Object(r.useEffect)((function(){var e=window.sessionStorage.getItem("movies");n(e?{type:"SET_MOVIES_STATE",payload:JSON.parse(e)}:{type:"RESET_STATE"})}),[]),Object(r.useEffect)((function(){window.sessionStorage.setItem("movies",JSON.stringify(t))}),[t]);var i=t.result,c=t.nomination,s=t.searchValue;return Object(a.jsxs)(b.a,{children:[Object(a.jsx)(f.a,{span:6}),Object(a.jsxs)(f.a,{span:12,style:{marginTop:"10%"},children:[Object(a.jsx)(b.a,{children:Object(a.jsx)(f.a,{span:24,children:Object(a.jsx)(N,{setSearchValue:function(e){n({type:"SET_SEARCH_VALUE",payload:e})},search:function(){(function(e){return Y.apply(this,arguments)})(s).then((function(e){var t=e.data;if("True"===t.Response){var a={Title:t.Title,Year:t.Year};0===i.filter((function(e){return e.Title===t.Title})).length&&n({type:"ADD_RESULT",payload:a})}"False"===t.Response&&m.b.warning("Movie not found.")}))},searchValue:s})})}),Object(a.jsxs)(b.a,{style:{marginTop:10},children:[Object(a.jsx)(f.a,{span:11,children:Object(a.jsx)(A,{nomination:c,result:i,addNomination:function(e){n({type:"ADD_NOMINATION",payload:e})}})}),Object(a.jsx)(f.a,{span:2}),Object(a.jsx)(f.a,{span:11,children:Object(a.jsx)(I,{removeNomination:function(e){n({type:"REMOVE_NOMINATION",payload:e})},nomination:c})})]}),5===c.length&&Object(a.jsx)(b.a,{style:{marginTop:10},children:Object(a.jsx)(f.a,{span:24,children:Object(a.jsx)(R,{nomination:c})})})]}),Object(a.jsx)(f.a,{span:6})]})};J.displayName="BasicLayout";var X=Object(o.b)((function(e){return{movies:e.movies}}))(J),B=function(){return Object(a.jsx)(h.a,{children:Object(a.jsx)(d.a,{path:"*",component:X})})};B.displayName="Dashboard";var F=B,H=(t(325),Object(s.c)(O,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),K=function(){return Object(a.jsx)(o.a,{store:H,children:Object(a.jsx)(F,{})})};c.a.render(Object(a.jsx)(K,{}),document.getElementById("root"))}},[[326,1,2]]]);
//# sourceMappingURL=main.851ab4bf.chunk.js.map